<?xml version="1.0" encoding="utf-8"?>
<data-extraction-rules xmlns:tools="http://schemas.android.com/tools">
    <!-- Cloud backup after Android 12 -->
    <cloud-backup>
        <!-- Include all SharedPreferences by default -->
        <include domain="sharedpref" />
        <!-- Exclude only login/session keys so app opens on Login after reinstall -->
        <exclude domain="sharedpref" key="flutter.logged_in" />
        <exclude domain="sharedpref" key="flutter.active_user_email" />
    </cloud-backup>

    <!-- Device-to-device transfer rules (e.g., pixel transfer) -->
    <device-transfer>
        <include domain="sharedpref" />
        <exclude domain="sharedpref" key="flutter.logged_in" />
        <exclude domain="sharedpref" key="flutter.active_user_email" />
    </device-transfer>
</data-extraction-rules>
